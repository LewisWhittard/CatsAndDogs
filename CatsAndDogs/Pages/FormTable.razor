@using CatsAndDogs.Data.ViewModels;
@page "/FormTable"
@using CatsAndDogs.Data.Service;
@using CatsAndDogs.Data.DTOs;

<h3>Form Data</h3>


<table>
	<thead>
		<tr>
			<td>Id</td>
			<th>Forename</th>
			<th>Surname</th>
			<th>Cat Or Dog</th>
			<th> Deleted </th>

		</tr>
	</thead>

	<tbody>
		@foreach (var Item in ViewModel)
		{
			if (Item.Deleted == false)
			{
				<tr>
					<td>@Item.Id.ToString()</td>
					<td>@Item.Forename</td>
					<td>@Item.Surname</td>
					<td>@Item.COD</td>
				</tr>
			}
		}
	</tbody>
</table>
@code {

    private List<FormViewModel> ViewModel = new();

    protected override async Task OnInitializedAsync()
    {
        var FS = new FormService();
        ViewModel = FS.GetAllDataToDisplay();
    }

}
